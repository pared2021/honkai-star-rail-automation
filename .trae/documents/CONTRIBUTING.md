# è´¡çŒ®æŒ‡å— (CONTRIBUTING)

æ„Ÿè°¢æ‚¨å¯¹å´©åæ˜Ÿç©¹é“é“è‡ªåŠ¨åŒ–åŠ©æ‰‹é¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç ã€æ–‡æ¡£ã€æµ‹è¯•ã€åé¦ˆå’Œå»ºè®®ã€‚

## ç›®å½•

1. [è¡Œä¸ºå‡†åˆ™](#è¡Œä¸ºå‡†åˆ™)
2. [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)
3. [å¼€å‘ç¯å¢ƒè®¾ç½®](#å¼€å‘ç¯å¢ƒè®¾ç½®)
4. [ä»£ç è§„èŒƒ](#ä»£ç è§„èŒƒ)
5. [æäº¤è§„èŒƒ](#æäº¤è§„èŒƒ)
6. [Pull Requestæµç¨‹](#pull-requestæµç¨‹)
7. [é—®é¢˜æŠ¥å‘Š](#é—®é¢˜æŠ¥å‘Š)
8. [åŠŸèƒ½è¯·æ±‚](#åŠŸèƒ½è¯·æ±‚)
9. [æ–‡æ¡£è´¡çŒ®](#æ–‡æ¡£è´¡çŒ®)
10. [æµ‹è¯•æŒ‡å—](#æµ‹è¯•æŒ‡å—)
11. [å‘å¸ƒæµç¨‹](#å‘å¸ƒæµç¨‹)

## è¡Œä¸ºå‡†åˆ™

### æˆ‘ä»¬çš„æ‰¿è¯º

ä¸ºäº†è¥é€ ä¸€ä¸ªå¼€æ”¾å’Œå‹å¥½çš„ç¯å¢ƒï¼Œæˆ‘ä»¬ä½œä¸ºè´¡çŒ®è€…å’Œç»´æŠ¤è€…æ‰¿è¯ºï¼Œæ— è®ºå¹´é¾„ã€ä½“å‹ã€æ®‹ç–¾ã€ç§æ—ã€æ€§åˆ«è®¤åŒå’Œè¡¨è¾¾ã€ç»éªŒæ°´å¹³ã€å›½ç±ã€ä¸ªäººå½¢è±¡ã€ç§æ—ã€å®—æ•™æˆ–æ€§å–å‘å¦‚ä½•ï¼Œå‚ä¸æˆ‘ä»¬é¡¹ç›®å’Œç¤¾åŒºçš„æ¯ä¸ªäººéƒ½èƒ½äº«å—æ— éªšæ‰°çš„ä½“éªŒã€‚

### æˆ‘ä»¬çš„æ ‡å‡†

**ç§¯æè¡Œä¸ºåŒ…æ‹¬ï¼š**
- ä½¿ç”¨å‹å¥½å’ŒåŒ…å®¹çš„è¯­è¨€
- å°Šé‡ä¸åŒçš„è§‚ç‚¹å’Œç»éªŒ
- ä¼˜é›…åœ°æ¥å—å»ºè®¾æ€§æ‰¹è¯„
- å…³æ³¨å¯¹ç¤¾åŒºæœ€æœ‰åˆ©çš„äº‹æƒ…
- å¯¹å…¶ä»–ç¤¾åŒºæˆå‘˜è¡¨ç¤ºåŒæƒ…

**ä¸å¯æ¥å—çš„è¡Œä¸ºåŒ…æ‹¬ï¼š**
- ä½¿ç”¨æ€§åŒ–çš„è¯­è¨€æˆ–å›¾åƒ
- æ¶æ„è¯„è®ºã€äººèº«æ”»å‡»æˆ–æ”¿æ²»æ”»å‡»
- å…¬å¼€æˆ–ç§ä¸‹éªšæ‰°
- æœªç»æ˜ç¡®è®¸å¯å‘å¸ƒä»–äººçš„ç§äººä¿¡æ¯
- å…¶ä»–åœ¨ä¸“ä¸šç¯å¢ƒä¸­å¯èƒ½è¢«è®¤ä¸ºä¸å½“çš„è¡Œä¸º

### æ‰§è¡Œ

å¦‚æœæ‚¨é‡åˆ°ä¸å½“è¡Œä¸ºï¼Œè¯·è”ç³»é¡¹ç›®ç»´æŠ¤å›¢é˜Ÿã€‚æ‰€æœ‰æŠ•è¯‰éƒ½å°†è¢«å®¡æŸ¥å’Œè°ƒæŸ¥ï¼Œå¹¶å°†äº§ç”Ÿè¢«è®¤ä¸ºå¿…è¦å’Œé€‚å½“çš„å›åº”ã€‚

## å¦‚ä½•è´¡çŒ®

### è´¡çŒ®ç±»å‹

æˆ‘ä»¬æ¬¢è¿ä»¥ä¸‹ç±»å‹çš„è´¡çŒ®ï¼š

1. **ğŸ› é”™è¯¯ä¿®å¤**
   - ä¿®å¤å·²çŸ¥çš„bug
   - æ”¹è¿›é”™è¯¯å¤„ç†
   - æå‡ç¨³å®šæ€§

2. **âœ¨ æ–°åŠŸèƒ½**
   - æ·»åŠ æ–°çš„è‡ªåŠ¨åŒ–åŠŸèƒ½
   - æ”¹è¿›ç”¨æˆ·ç•Œé¢
   - å¢å¼ºæ€§èƒ½

3. **ğŸ“š æ–‡æ¡£æ”¹è¿›**
   - å®Œå–„APIæ–‡æ¡£
   - æ”¹è¿›ç”¨æˆ·æŒ‡å—
   - æ·»åŠ ç¤ºä¾‹ä»£ç 

4. **ğŸ§ª æµ‹è¯•**
   - ç¼–å†™å•å…ƒæµ‹è¯•
   - æ·»åŠ é›†æˆæµ‹è¯•
   - æ”¹è¿›æµ‹è¯•è¦†ç›–ç‡

5. **ğŸ”§ å·¥å…·å’ŒåŸºç¡€è®¾æ–½**
   - æ”¹è¿›æ„å»ºç³»ç»Ÿ
   - ä¼˜åŒ–CI/CDæµç¨‹
   - æ·»åŠ å¼€å‘å·¥å…·

### è´¡çŒ®æµç¨‹æ¦‚è§ˆ

1. **Fork** é¡¹ç›®åˆ°æ‚¨çš„GitHubè´¦æˆ·
2. **Clone** æ‚¨çš„forkåˆ°æœ¬åœ°
3. **åˆ›å»º** æ–°çš„åŠŸèƒ½åˆ†æ”¯
4. **å¼€å‘** å¹¶æµ‹è¯•æ‚¨çš„æ›´æ”¹
5. **æäº¤** æ‚¨çš„æ›´æ”¹
6. **æ¨é€** åˆ°æ‚¨çš„fork
7. **åˆ›å»º** Pull Request
8. **ç­‰å¾…** ä»£ç å®¡æŸ¥
9. **åˆå¹¶** åˆ°ä¸»åˆ†æ”¯

## å¼€å‘ç¯å¢ƒè®¾ç½®

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (æ¨è)
- **Python**: 3.13 æˆ–æ›´é«˜ç‰ˆæœ¬
- **Git**: æœ€æ–°ç‰ˆæœ¬
- **IDE**: VS Code (æ¨è) æˆ– PyCharm

### ç¯å¢ƒé…ç½®

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/your-username/xingtie.git
   cd xingtie
   ```

2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ**
   ```bash
   python -m venv venv
   venv\Scripts\activate  # Windows
   # source venv/bin/activate  # Linux/Mac
   ```

3. **å®‰è£…ä¾èµ–**
   ```bash
   pip install -r requirements.txt
   pip install -r requirements-dev.txt
   ```

4. **é…ç½®å¼€å‘å·¥å…·**
   ```bash
   # å®‰è£…pre-commité’©å­
   pre-commit install
   
   # è¿è¡Œåˆå§‹åŒ–è„šæœ¬
   python scripts/setup_dev.py
   ```

5. **éªŒè¯å®‰è£…**
   ```bash
   # è¿è¡Œæµ‹è¯•
   make test
   
   # æ£€æŸ¥ä»£ç è´¨é‡
   make lint
   
   # å¯åŠ¨åº”ç”¨
   python main.py
   ```

### å¼€å‘å·¥å…·é…ç½®

#### VS Codeé…ç½®

åˆ›å»º `.vscode/settings.json`ï¼š
```json
{
    "python.defaultInterpreterPath": "./venv/Scripts/python.exe",
    "python.linting.enabled": true,
    "python.linting.mypyEnabled": true,
    "python.linting.banditEnabled": true,
    "python.formatting.provider": "black",
    "python.testing.pytestEnabled": true,
    "python.testing.pytestArgs": [
        "tests"
    ]
}
```

#### PyCharmé…ç½®

1. è®¾ç½®Pythonè§£é‡Šå™¨ä¸ºè™šæ‹Ÿç¯å¢ƒ
2. å¯ç”¨ä»£ç æ£€æŸ¥å·¥å…·
3. é…ç½®æµ‹è¯•è¿è¡Œå™¨ä¸ºpytest
4. è®¾ç½®ä»£ç æ ¼å¼åŒ–å·¥å…·

## ä»£ç è§„èŒƒ

### Pythonä»£ç é£æ ¼

æˆ‘ä»¬éµå¾ª [PEP 8](https://www.python.org/dev/peps/pep-0008/) å’Œé¡¹ç›®ç‰¹å®šçš„ç¼–ç è§„èŒƒï¼š

#### åŸºæœ¬è§„åˆ™

1. **ç¼©è¿›**: ä½¿ç”¨4ä¸ªç©ºæ ¼
2. **è¡Œé•¿åº¦**: æœ€å¤§88å­—ç¬¦ï¼ˆBlackæ ¼å¼åŒ–å™¨æ ‡å‡†ï¼‰
3. **å¼•å·**: ä¼˜å…ˆä½¿ç”¨åŒå¼•å·
4. **å¯¼å…¥**: æŒ‰æ ‡å‡†åº“ã€ç¬¬ä¸‰æ–¹åº“ã€æœ¬åœ°æ¨¡å—åˆ†ç»„

#### å‘½åè§„èŒƒ

```python
# ç±»åï¼šPascalCase
class GameDetector:
    pass

# å‡½æ•°å’Œå˜é‡ï¼šsnake_case
def detect_game_window():
    window_handle = None
    return window_handle

# å¸¸é‡ï¼šUPPER_SNAKE_CASE
DEFAULT_TIMEOUT = 30
MAX_RETRIES = 3

# ç§æœ‰æˆå‘˜ï¼šå‰ç¼€ä¸‹åˆ’çº¿
class TaskManager:
    def __init__(self):
        self._tasks = []
        self.__internal_state = {}
```

#### ç±»å‹æ³¨è§£

```python
from typing import Optional, List, Dict, Any, Union

def process_tasks(tasks: List[Dict[str, Any]], 
                 timeout: Optional[float] = None) -> bool:
    """å¤„ç†ä»»åŠ¡åˆ—è¡¨
    
    Args:
        tasks: ä»»åŠ¡åˆ—è¡¨
        timeout: è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰
        
    Returns:
        bool: æ˜¯å¦å¤„ç†æˆåŠŸ
    """
    pass

class ConfigManager:
    def __init__(self, config_path: Union[str, Path]):
        self.config_path = Path(config_path)
        self._config: Dict[str, Any] = {}
```

#### æ–‡æ¡£å­—ç¬¦ä¸²

ä½¿ç”¨Googleé£æ ¼çš„æ–‡æ¡£å­—ç¬¦ä¸²ï¼š

```python
def detect_template(self, template_name: str, 
                   region: Optional[Tuple[int, int, int, int]] = None,
                   threshold: float = 0.8) -> DetectionResult:
    """æ£€æµ‹æ¨¡æ¿åœ¨å±å¹•ä¸Šçš„ä½ç½®
    
    ä½¿ç”¨æ¨¡æ¿åŒ¹é…ç®—æ³•åœ¨æŒ‡å®šåŒºåŸŸå†…æŸ¥æ‰¾æ¨¡æ¿å›¾åƒã€‚æ”¯æŒå¤šç§åŒ¹é…ç®—æ³•
    å’Œé˜ˆå€¼è°ƒæ•´ï¼Œä»¥é€‚åº”ä¸åŒçš„æ£€æµ‹éœ€æ±‚ã€‚
    
    Args:
        template_name: æ¨¡æ¿æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰
        region: æ£€æµ‹åŒºåŸŸï¼Œæ ¼å¼ä¸º(x, y, width, height)ã€‚
               å¦‚æœä¸ºNoneï¼Œåˆ™åœ¨æ•´ä¸ªå±å¹•èŒƒå›´å†…æ£€æµ‹
        threshold: åŒ¹é…é˜ˆå€¼ï¼ŒèŒƒå›´0.0-1.0ï¼Œå€¼è¶Šé«˜è¦æ±‚åŒ¹é…åº¦è¶Šé«˜
        
    Returns:
        DetectionResult: åŒ…å«æ£€æµ‹ç»“æœçš„å¯¹è±¡ï¼ŒåŒ…æ‹¬ï¼š
            - success: æ˜¯å¦æ£€æµ‹æˆåŠŸ
            - confidence: åŒ¹é…ç½®ä¿¡åº¦
            - position: åŒ¹é…ä½ç½®åæ ‡
            - template_name: æ¨¡æ¿åç§°
            
    Raises:
        TemplateNotFoundError: å½“æŒ‡å®šçš„æ¨¡æ¿æ–‡ä»¶ä¸å­˜åœ¨æ—¶
        ScreenshotError: å½“æ— æ³•è·å–å±å¹•æˆªå›¾æ—¶
        
    Example:
        >>> detector = GameDetector(config)
        >>> result = detector.detect_template('start_button')
        >>> if result.success:
        ...     print(f"æ‰¾åˆ°æŒ‰é’®ï¼Œä½ç½®: {result.position}")
    """
    pass
```

### é”™è¯¯å¤„ç†

#### å¼‚å¸¸è®¾è®¡

```python
# è‡ªå®šä¹‰å¼‚å¸¸å±‚æ¬¡
class XingTieException(Exception):
    """é¡¹ç›®åŸºç¡€å¼‚å¸¸ç±»"""
    pass

class GameDetectionError(XingTieException):
    """æ¸¸æˆæ£€æµ‹ç›¸å…³å¼‚å¸¸"""
    pass

class TemplateNotFoundError(GameDetectionError):
    """æ¨¡æ¿æ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸"""
    def __init__(self, template_name: str):
        self.template_name = template_name
        super().__init__(f"æ¨¡æ¿æ–‡ä»¶æœªæ‰¾åˆ°: {template_name}")
```

#### é”™è¯¯å¤„ç†æ¨¡å¼

```python
import logging
from typing import Optional

def safe_operation(operation_name: str):
    """å®‰å…¨æ“ä½œè£…é¥°å™¨"""
    def decorator(func):
        def wrapper(*args, **kwargs):
            try:
                logging.info(f"å¼€å§‹æ‰§è¡Œ: {operation_name}")
                result = func(*args, **kwargs)
                logging.info(f"æ‰§è¡ŒæˆåŠŸ: {operation_name}")
                return result
            except Exception as e:
                logging.error(f"æ‰§è¡Œå¤±è´¥: {operation_name}, é”™è¯¯: {e}")
                raise
        return wrapper
    return decorator

@safe_operation("æ¸¸æˆçª—å£æ£€æµ‹")
def find_game_window() -> Optional[WindowInfo]:
    # å®ç°é€»è¾‘
    pass
```

### æ—¥å¿—è®°å½•

```python
import logging
from pathlib import Path

# é…ç½®æ—¥å¿—
logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    handlers=[
        logging.FileHandler('logs/app.log'),
        logging.StreamHandler()
    ]
)

logger = logging.getLogger(__name__)

# ä½¿ç”¨ç¤ºä¾‹
class GameDetector:
    def __init__(self, config: dict):
        self.logger = logging.getLogger(f"{__name__}.{self.__class__.__name__}")
        self.logger.info("åˆå§‹åŒ–æ¸¸æˆæ£€æµ‹å™¨")
        
    def detect_template(self, template_name: str) -> DetectionResult:
        self.logger.debug(f"å¼€å§‹æ£€æµ‹æ¨¡æ¿: {template_name}")
        try:
            # æ£€æµ‹é€»è¾‘
            result = self._perform_detection(template_name)
            self.logger.info(f"æ¨¡æ¿æ£€æµ‹æˆåŠŸ: {template_name}, ç½®ä¿¡åº¦: {result.confidence}")
            return result
        except Exception as e:
            self.logger.error(f"æ¨¡æ¿æ£€æµ‹å¤±è´¥: {template_name}, é”™è¯¯: {e}")
            raise
```

## æäº¤è§„èŒƒ

### æäº¤æ¶ˆæ¯æ ¼å¼

æˆ‘ä»¬ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/) è§„èŒƒï¼š

```
<ç±»å‹>[å¯é€‰çš„ä½œç”¨åŸŸ]: <æè¿°>

[å¯é€‰çš„æ­£æ–‡]

[å¯é€‰çš„è„šæ³¨]
```

#### æäº¤ç±»å‹

- **feat**: æ–°åŠŸèƒ½
- **fix**: é”™è¯¯ä¿®å¤
- **docs**: æ–‡æ¡£æ›´æ–°
- **style**: ä»£ç æ ¼å¼åŒ–ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- **refactor**: ä»£ç é‡æ„
- **test**: æµ‹è¯•ç›¸å…³
- **chore**: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨
- **perf**: æ€§èƒ½ä¼˜åŒ–
- **ci**: CI/CDç›¸å…³

#### ç¤ºä¾‹

```bash
# æ–°åŠŸèƒ½
feat(detector): æ·»åŠ å¤šåˆ†è¾¨ç‡æ”¯æŒ

# é”™è¯¯ä¿®å¤
fix(ui): ä¿®å¤è®¾ç½®é¡µé¢ä¿å­˜æŒ‰é’®æ— å“åº”é—®é¢˜

# æ–‡æ¡£æ›´æ–°
docs: æ›´æ–°APIæ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹

# é‡æ„
refactor(core): é‡æ„ä»»åŠ¡ç®¡ç†å™¨ï¼Œæå‡ä»£ç å¯è¯»æ€§

# æµ‹è¯•
test(detector): æ·»åŠ æ¸¸æˆæ£€æµ‹æ¨¡å—å•å…ƒæµ‹è¯•

# æ€§èƒ½ä¼˜åŒ–
perf(operator): ä¼˜åŒ–ç‚¹å‡»æ“ä½œå“åº”æ—¶é—´
```

#### è¯¦ç»†æäº¤æ¶ˆæ¯

```bash
feat(automation): æ·»åŠ è‡ªå®šä¹‰ä»»åŠ¡æ¨¡æ¿åŠŸèƒ½

- æ”¯æŒç”¨æˆ·åˆ›å»ºè‡ªå®šä¹‰è‡ªåŠ¨åŒ–ä»»åŠ¡
- æä¾›å¯è§†åŒ–ä»»åŠ¡ç¼–è¾‘å™¨
- æ·»åŠ æ¨¡æ¿å¯¼å…¥å¯¼å‡ºåŠŸèƒ½
- åŒ…å«é¢„è®¾ä»»åŠ¡æ¨¡æ¿åº“

Closes #123
Breaking Change: æ—§ç‰ˆæœ¬çš„ä»»åŠ¡é…ç½®æ ¼å¼ä¸å†å…¼å®¹
```

### åˆ†æ”¯å‘½åè§„èŒƒ

```bash
# åŠŸèƒ½åˆ†æ”¯
feature/task-template-editor
feature/multi-resolution-support

# ä¿®å¤åˆ†æ”¯
fix/ui-button-response
fix/memory-leak-issue

# æ–‡æ¡£åˆ†æ”¯
docs/api-documentation
docs/user-guide-update

# é‡æ„åˆ†æ”¯
refactor/task-manager
refactor/config-system
```

## Pull Requestæµç¨‹

### åˆ›å»ºPull Request

1. **ç¡®ä¿åˆ†æ”¯æ˜¯æœ€æ–°çš„**
   ```bash
   git checkout main
   git pull origin main
   git checkout your-feature-branch
   git rebase main
   ```

2. **è¿è¡Œå®Œæ•´æµ‹è¯•**
   ```bash
   make test-all
   make lint
   make type-check
   ```

3. **åˆ›å»ºPR**
   - ä½¿ç”¨æ¸…æ™°çš„æ ‡é¢˜
   - å¡«å†™è¯¦ç»†çš„æè¿°
   - å…³è”ç›¸å…³issue
   - æ·»åŠ é€‚å½“çš„æ ‡ç­¾

### PRæ¨¡æ¿

```markdown
## å˜æ›´æè¿°

ç®€è¦æè¿°æ­¤PRçš„ç›®çš„å’Œå®ç°çš„åŠŸèƒ½ã€‚

## å˜æ›´ç±»å‹

- [ ] é”™è¯¯ä¿®å¤
- [ ] æ–°åŠŸèƒ½
- [ ] é‡æ„
- [ ] æ–‡æ¡£æ›´æ–°
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] å…¶ä»–ï¼ˆè¯·è¯´æ˜ï¼‰

## æµ‹è¯•

- [ ] å•å…ƒæµ‹è¯•é€šè¿‡
- [ ] é›†æˆæµ‹è¯•é€šè¿‡
- [ ] æ‰‹åŠ¨æµ‹è¯•å®Œæˆ
- [ ] æ·»åŠ äº†æ–°çš„æµ‹è¯•ç”¨ä¾‹

## æ£€æŸ¥æ¸…å•

- [ ] ä»£ç éµå¾ªé¡¹ç›®ç¼–ç è§„èŒƒ
- [ ] è‡ªæˆ‘å®¡æŸ¥äº†ä»£ç å˜æ›´
- [ ] æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [ ] æ²¡æœ‰å¼•å…¥æ–°çš„è­¦å‘Š
- [ ] æ·»åŠ äº†é€‚å½“çš„æµ‹è¯•
- [ ] æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡

## ç›¸å…³Issue

Closes #(issueç¼–å·)

## æˆªå›¾ï¼ˆå¦‚é€‚ç”¨ï¼‰

å¦‚æœæœ‰UIå˜æ›´ï¼Œè¯·æä¾›æˆªå›¾ã€‚

## é¢å¤–è¯´æ˜

ä»»ä½•éœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹æˆ–é¢å¤–çš„ä¸Šä¸‹æ–‡ä¿¡æ¯ã€‚
```

### ä»£ç å®¡æŸ¥

#### å®¡æŸ¥è€…æŒ‡å—

1. **åŠŸèƒ½æ€§å®¡æŸ¥**
   - ä»£ç æ˜¯å¦å®ç°äº†é¢„æœŸåŠŸèƒ½
   - æ˜¯å¦æœ‰æ½œåœ¨çš„bug
   - è¾¹ç•Œæ¡ä»¶æ˜¯å¦å¤„ç†æ­£ç¡®

2. **ä»£ç è´¨é‡å®¡æŸ¥**
   - ä»£ç æ˜¯å¦æ¸…æ™°æ˜“è¯»
   - æ˜¯å¦éµå¾ªé¡¹ç›®è§„èŒƒ
   - æ˜¯å¦æœ‰é‡å¤ä»£ç 

3. **æ€§èƒ½å®¡æŸ¥**
   - æ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜
   - èµ„æºä½¿ç”¨æ˜¯å¦åˆç†
   - æ˜¯å¦æœ‰å†…å­˜æ³„æ¼

4. **å®‰å…¨å®¡æŸ¥**
   - æ˜¯å¦æœ‰å®‰å…¨æ¼æ´
   - è¾“å…¥éªŒè¯æ˜¯å¦å……åˆ†
   - æ•æ„Ÿä¿¡æ¯æ˜¯å¦å®‰å…¨

#### å®¡æŸ¥åé¦ˆ

```markdown
# å®¡æŸ¥åé¦ˆç¤ºä¾‹

## æ€»ä½“è¯„ä»·
æ•´ä½“å®ç°è‰¯å¥½ï¼ŒåŠŸèƒ½å®Œæ•´ï¼Œä»£ç è´¨é‡è¾ƒé«˜ã€‚

## ä¸»è¦é—®é¢˜
1. **æ€§èƒ½é—®é¢˜**: L45-50çš„å¾ªç¯å¯èƒ½å¯¼è‡´æ€§èƒ½é—®é¢˜ï¼Œå»ºè®®ä¼˜åŒ–
2. **é”™è¯¯å¤„ç†**: L78ç¼ºå°‘å¼‚å¸¸å¤„ç†ï¼Œå¯èƒ½å¯¼è‡´ç¨‹åºå´©æºƒ

## å»ºè®®æ”¹è¿›
1. æ·»åŠ æ›´å¤šçš„å•å…ƒæµ‹è¯•è¦†ç›–è¾¹ç•Œæƒ…å†µ
2. è€ƒè™‘ä½¿ç”¨ç¼“å­˜æœºåˆ¶æå‡æ€§èƒ½
3. æ·»åŠ æ›´è¯¦ç»†çš„æ—¥å¿—è®°å½•

## å°é—®é¢˜
- L23: å˜é‡å‘½åå¯ä»¥æ›´æ¸…æ™°
- L56: æ³¨é‡Šå¯ä»¥æ›´è¯¦ç»†
- L89: å¯ä»¥ä½¿ç”¨æ›´ç®€æ´çš„å†™æ³•

## æ‰¹å‡†æ¡ä»¶
ä¿®å¤ä¸»è¦é—®é¢˜åå³å¯åˆå¹¶ã€‚
```

## é—®é¢˜æŠ¥å‘Š

### æŠ¥å‘ŠBug

ä½¿ç”¨GitHub IssuesæŠ¥å‘Šbugæ—¶ï¼Œè¯·åŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

#### BugæŠ¥å‘Šæ¨¡æ¿

```markdown
## Bugæè¿°

ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜ã€‚

## å¤ç°æ­¥éª¤

1. æ‰“å¼€åº”ç”¨
2. ç‚¹å‡»'...'
3. è¾“å…¥'...'
4. çœ‹åˆ°é”™è¯¯

## æœŸæœ›è¡Œä¸º

æè¿°æ‚¨æœŸæœ›å‘ç”Ÿçš„æƒ…å†µã€‚

## å®é™…è¡Œä¸º

æè¿°å®é™…å‘ç”Ÿçš„æƒ…å†µã€‚

## ç¯å¢ƒä¿¡æ¯

- æ“ä½œç³»ç»Ÿ: [ä¾‹å¦‚ Windows 11]
- Pythonç‰ˆæœ¬: [ä¾‹å¦‚ 3.13.0]
- åº”ç”¨ç‰ˆæœ¬: [ä¾‹å¦‚ 1.0.0]
- æ¸¸æˆç‰ˆæœ¬: [ä¾‹å¦‚ 2.6.0]

## é™„åŠ ä¿¡æ¯

- é”™è¯¯æ—¥å¿—
- å±å¹•æˆªå›¾
- é…ç½®æ–‡ä»¶
- å…¶ä»–ç›¸å…³ä¿¡æ¯

## å¯èƒ½çš„è§£å†³æ–¹æ¡ˆ

å¦‚æœæ‚¨æœ‰è§£å†³æ–¹æ¡ˆçš„æƒ³æ³•ï¼Œè¯·åœ¨æ­¤æè¿°ã€‚
```

### æ—¥å¿—æ”¶é›†

æŠ¥å‘Šé—®é¢˜æ—¶ï¼Œè¯·æä¾›ç›¸å…³æ—¥å¿—ï¼š

```bash
# æ”¶é›†åº”ç”¨æ—¥å¿—
cp logs/app.log logs/app_$(date +%Y%m%d_%H%M%S).log

# æ”¶é›†ç³»ç»Ÿä¿¡æ¯
python scripts/collect_system_info.py > system_info.txt

# æ”¶é›†é…ç½®ä¿¡æ¯ï¼ˆæ³¨æ„éšç§ï¼‰
python scripts/collect_config_info.py > config_info.txt
```

## åŠŸèƒ½è¯·æ±‚

### åŠŸèƒ½è¯·æ±‚æ¨¡æ¿

```markdown
## åŠŸèƒ½æè¿°

ç®€è¦æè¿°æ‚¨å¸Œæœ›æ·»åŠ çš„åŠŸèƒ½ã€‚

## é—®é¢˜èƒŒæ™¯

æè¿°å½“å‰é‡åˆ°çš„é—®é¢˜æˆ–é™åˆ¶ã€‚

## è§£å†³æ–¹æ¡ˆ

æè¿°æ‚¨æœŸæœ›çš„è§£å†³æ–¹æ¡ˆã€‚

## æ›¿ä»£æ–¹æ¡ˆ

æè¿°æ‚¨è€ƒè™‘è¿‡çš„å…¶ä»–è§£å†³æ–¹æ¡ˆã€‚

## ç”¨æˆ·ä»·å€¼

è¿™ä¸ªåŠŸèƒ½å°†å¦‚ä½•å¸®åŠ©ç”¨æˆ·ï¼Ÿ

## å®ç°å¤æ‚åº¦

- [ ] ç®€å•ï¼ˆ1-2å¤©ï¼‰
- [ ] ä¸­ç­‰ï¼ˆ1å‘¨ï¼‰
- [ ] å¤æ‚ï¼ˆ2-4å‘¨ï¼‰
- [ ] éå¸¸å¤æ‚ï¼ˆ1ä¸ªæœˆä»¥ä¸Šï¼‰

## ç›¸å…³èµ„æº

- ç›¸å…³æ–‡æ¡£
- å‚è€ƒå®ç°
- è®¾è®¡å›¾
```

### åŠŸèƒ½ä¼˜å…ˆçº§

æˆ‘ä»¬ä½¿ç”¨ä»¥ä¸‹æ ‡å‡†è¯„ä¼°åŠŸèƒ½è¯·æ±‚ï¼š

1. **ç”¨æˆ·ä»·å€¼**: å¯¹ç”¨æˆ·çš„å¸®åŠ©ç¨‹åº¦
2. **å®ç°å¤æ‚åº¦**: å¼€å‘æ‰€éœ€çš„æ—¶é—´å’Œèµ„æº
3. **ç»´æŠ¤æˆæœ¬**: é•¿æœŸç»´æŠ¤çš„å¤æ‚åº¦
4. **é¡¹ç›®ä¸€è‡´æ€§**: ä¸é¡¹ç›®ç›®æ ‡çš„ä¸€è‡´æ€§
5. **ç¤¾åŒºéœ€æ±‚**: ç¤¾åŒºçš„æ”¯æŒç¨‹åº¦

## æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

1. **ç”¨æˆ·æ–‡æ¡£**
   - ç”¨æˆ·æ‰‹å†Œ
   - å®‰è£…æŒ‡å—
   - å¸¸è§é—®é¢˜

2. **å¼€å‘è€…æ–‡æ¡£**
   - APIæ–‡æ¡£
   - æ¶æ„è®¾è®¡
   - è´¡çŒ®æŒ‡å—

3. **é¡¹ç›®æ–‡æ¡£**
   - README
   - CHANGELOG
   - è®¸å¯è¯

### æ–‡æ¡£è§„èŒƒ

#### Markdownè§„èŒƒ

```markdown
# ä¸€çº§æ ‡é¢˜

## äºŒçº§æ ‡é¢˜

### ä¸‰çº§æ ‡é¢˜

#### å››çº§æ ‡é¢˜

**ç²—ä½“æ–‡æœ¬**
*æ–œä½“æ–‡æœ¬*
`è¡Œå†…ä»£ç `

```python
# ä»£ç å—
def example_function():
    pass
```

> å¼•ç”¨æ–‡æœ¬

- æ— åºåˆ—è¡¨é¡¹
- å¦ä¸€ä¸ªåˆ—è¡¨é¡¹

1. æœ‰åºåˆ—è¡¨é¡¹
2. å¦ä¸€ä¸ªåˆ—è¡¨é¡¹

[é“¾æ¥æ–‡æœ¬](URL)

![å›¾ç‰‡æè¿°](å›¾ç‰‡URL)

| è¡¨æ ¼ | æ ‡é¢˜ |
|------|------|
| å†…å®¹ | å†…å®¹ |
```

#### ä¸­æ–‡æ–‡æ¡£è§„èŒƒ

1. **æ ‡ç‚¹ç¬¦å·**: ä½¿ç”¨ä¸­æ–‡æ ‡ç‚¹ç¬¦å·
2. **ç©ºæ ¼**: ä¸­è‹±æ–‡ä¹‹é—´æ·»åŠ ç©ºæ ¼
3. **æœ¯è¯­**: ä¿æŒæœ¯è¯­ä¸€è‡´æ€§
4. **è¯­è¨€**: ä½¿ç”¨ç®€æ´æ˜äº†çš„è¯­è¨€

ç¤ºä¾‹ï¼š
```markdown
# æ­£ç¡®
è¿™æ˜¯ä¸€ä¸ª Python é¡¹ç›®ï¼Œä½¿ç”¨ PyQt6 æ¡†æ¶å¼€å‘ã€‚

# é”™è¯¯
è¿™æ˜¯ä¸€ä¸ªPythoné¡¹ç›®,ä½¿ç”¨PyQt6æ¡†æ¶å¼€å‘.
```

## æµ‹è¯•æŒ‡å—

### æµ‹è¯•ç­–ç•¥

æˆ‘ä»¬é‡‡ç”¨å¤šå±‚æ¬¡çš„æµ‹è¯•ç­–ç•¥ï¼š

1. **å•å…ƒæµ‹è¯•**: æµ‹è¯•å•ä¸ªå‡½æ•°æˆ–ç±»
2. **é›†æˆæµ‹è¯•**: æµ‹è¯•æ¨¡å—é—´çš„äº¤äº’
3. **ç«¯åˆ°ç«¯æµ‹è¯•**: æµ‹è¯•å®Œæ•´çš„ç”¨æˆ·æµç¨‹
4. **æ€§èƒ½æµ‹è¯•**: æµ‹è¯•æ€§èƒ½å’Œèµ„æºä½¿ç”¨

### ç¼–å†™æµ‹è¯•

#### å•å…ƒæµ‹è¯•ç¤ºä¾‹

```python
import pytest
from unittest.mock import Mock, patch
from src.core.game_detector import GameDetector, DetectionResult

class TestGameDetector:
    """æ¸¸æˆæ£€æµ‹å™¨æµ‹è¯•ç±»"""
    
    @pytest.fixture
    def detector(self):
        """æµ‹è¯•ç”¨çš„æ£€æµ‹å™¨å®ä¾‹"""
        config = {
            'threshold': 0.8,
            'timeout': 30,
            'template_path': 'tests/fixtures/templates/'
        }
        return GameDetector(config)
    
    def test_detect_template_success(self, detector):
        """æµ‹è¯•æ¨¡æ¿æ£€æµ‹æˆåŠŸçš„æƒ…å†µ"""
        # Arrange
        template_name = 'test_button'
        expected_position = (100, 200)
        
        with patch.object(detector, '_perform_detection') as mock_detect:
            mock_detect.return_value = DetectionResult(
                success=True,
                confidence=0.95,
                position=expected_position,
                template_name=template_name,
                timestamp=1234567890.0
            )
            
            # Act
            result = detector.detect_template(template_name)
            
            # Assert
            assert result.success is True
            assert result.confidence == 0.95
            assert result.position == expected_position
            assert result.template_name == template_name
            mock_detect.assert_called_once_with(template_name)
    
    def test_detect_template_not_found(self, detector):
        """æµ‹è¯•æ¨¡æ¿æœªæ‰¾åˆ°çš„æƒ…å†µ"""
        # Arrange
        template_name = 'nonexistent_template'
        
        with patch.object(detector, '_perform_detection') as mock_detect:
            mock_detect.return_value = DetectionResult(
                success=False,
                confidence=0.0,
                position=None,
                template_name=template_name,
                timestamp=1234567890.0
            )
            
            # Act
            result = detector.detect_template(template_name)
            
            # Assert
            assert result.success is False
            assert result.confidence == 0.0
            assert result.position is None
    
    @pytest.mark.parametrize("threshold,expected_calls", [
        (0.5, 1),
        (0.8, 1),
        (0.95, 1),
    ])
    def test_detect_template_with_different_thresholds(self, detector, threshold, expected_calls):
        """æµ‹è¯•ä¸åŒé˜ˆå€¼ä¸‹çš„æ¨¡æ¿æ£€æµ‹"""
        with patch.object(detector, '_perform_detection') as mock_detect:
            detector.detect_template('test_template', threshold=threshold)
            assert mock_detect.call_count == expected_calls
```

#### é›†æˆæµ‹è¯•ç¤ºä¾‹

```python
import pytest
from src.core.game_detector import GameDetector
from src.core.game_operator import GameOperator
from src.core.task_manager import TaskManager

class TestGameAutomation:
    """æ¸¸æˆè‡ªåŠ¨åŒ–é›†æˆæµ‹è¯•"""
    
    @pytest.fixture
    def automation_system(self):
        """å®Œæ•´çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿ"""
        detector = GameDetector({'threshold': 0.8})
        operator = GameOperator(detector)
        task_manager = TaskManager()
        return {
            'detector': detector,
            'operator': operator,
            'task_manager': task_manager
        }
    
    def test_complete_task_flow(self, automation_system):
        """æµ‹è¯•å®Œæ•´çš„ä»»åŠ¡æ‰§è¡Œæµç¨‹"""
        # è¿™é‡Œä¼šæµ‹è¯•ä»ä»»åŠ¡åˆ›å»ºåˆ°æ‰§è¡Œå®Œæˆçš„æ•´ä¸ªæµç¨‹
        pass
```

### æµ‹è¯•è¿è¡Œ

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–‡ä»¶
pytest tests/test_game_detector.py

# è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
pytest tests/test_game_detector.py::TestGameDetector

# è¿è¡Œç‰¹å®šæµ‹è¯•æ–¹æ³•
pytest tests/test_game_detector.py::TestGameDetector::test_detect_template_success

# è¿è¡Œå¸¦è¦†ç›–ç‡çš„æµ‹è¯•
pytest --cov=src tests/

# ç”ŸæˆHTMLè¦†ç›–ç‡æŠ¥å‘Š
pytest --cov=src --cov-report=html tests/
```

### æµ‹è¯•æ•°æ®

```python
# tests/conftest.py
import pytest
from pathlib import Path

@pytest.fixture
def test_data_dir():
    """æµ‹è¯•æ•°æ®ç›®å½•"""
    return Path(__file__).parent / 'fixtures'

@pytest.fixture
def sample_screenshot(test_data_dir):
    """ç¤ºä¾‹æˆªå›¾"""
    return test_data_dir / 'screenshots' / 'sample.png'

@pytest.fixture
def sample_template(test_data_dir):
    """ç¤ºä¾‹æ¨¡æ¿"""
    return test_data_dir / 'templates' / 'button.png'
```

## å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬å‘å¸ƒ

1. **å‡†å¤‡å‘å¸ƒ**
   ```bash
   # æ›´æ–°ç‰ˆæœ¬å·
   python scripts/bump_version.py 1.1.0
   
   # æ›´æ–°CHANGELOG
   python scripts/update_changelog.py
   
   # è¿è¡Œå®Œæ•´æµ‹è¯•
   make test-all
   ```

2. **åˆ›å»ºå‘å¸ƒåˆ†æ”¯**
   ```bash
   git checkout -b release/1.1.0
   git add .
   git commit -m "chore: å‡†å¤‡å‘å¸ƒ v1.1.0"
   git push origin release/1.1.0
   ```

3. **åˆ›å»ºRelease PR**
   - åˆ›å»ºä»releaseåˆ†æ”¯åˆ°mainçš„PR
   - è¿›è¡Œæœ€ç»ˆå®¡æŸ¥
   - åˆå¹¶åˆ°mainåˆ†æ”¯

4. **åˆ›å»ºGitæ ‡ç­¾**
   ```bash
   git checkout main
   git pull origin main
   git tag -a v1.1.0 -m "Release v1.1.0"
   git push origin v1.1.0
   ```

5. **å‘å¸ƒåˆ°GitHub**
   - åœ¨GitHubä¸Šåˆ›å»ºRelease
   - ä¸Šä¼ æ„å»ºäº§ç‰©
   - å‘å¸ƒRelease Notes

### çƒ­ä¿®å¤æµç¨‹

```bash
# ä»mainåˆ†æ”¯åˆ›å»ºçƒ­ä¿®å¤åˆ†æ”¯
git checkout main
git checkout -b hotfix/critical-bug-fix

# ä¿®å¤é—®é¢˜
# ...

# æäº¤ä¿®å¤
git add .
git commit -m "fix: ä¿®å¤å…³é”®bug"

# åˆ›å»ºPRå¹¶åˆå¹¶
# ...

# å‘å¸ƒçƒ­ä¿®å¤ç‰ˆæœ¬
python scripts/bump_version.py 1.0.1 --patch
git tag -a v1.0.1 -m "Hotfix v1.0.1"
git push origin v1.0.1
```

## ç¤¾åŒºå‚ä¸

### è®¨è®ºå’Œäº¤æµ

- **GitHub Discussions**: é¡¹ç›®è®¨è®ºå’Œé—®ç­”
- **Issues**: BugæŠ¥å‘Šå’ŒåŠŸèƒ½è¯·æ±‚
- **Pull Requests**: ä»£ç è´¡çŒ®å’Œå®¡æŸ¥

### è´¡çŒ®è€…è®¤å¯

æˆ‘ä»¬é‡è§†æ¯ä¸€ä½è´¡çŒ®è€…çš„åŠªåŠ›ï¼š

1. **è´¡çŒ®è€…åˆ—è¡¨**: åœ¨READMEä¸­ç»´æŠ¤è´¡çŒ®è€…åˆ—è¡¨
2. **Release Notes**: åœ¨å‘å¸ƒè¯´æ˜ä¸­æ„Ÿè°¢è´¡çŒ®è€…
3. **ç‰¹æ®Šè´¡çŒ®**: å¯¹é‡å¤§è´¡çŒ®ç»™äºˆç‰¹åˆ«è®¤å¯

### æˆä¸ºç»´æŠ¤è€…

æ´»è·ƒçš„è´¡çŒ®è€…å¯èƒ½è¢«é‚€è¯·æˆä¸ºé¡¹ç›®ç»´æŠ¤è€…ï¼š

**æ¡ä»¶**:
- æŒç»­çš„é«˜è´¨é‡è´¡çŒ®
- å¯¹é¡¹ç›®çš„æ·±å…¥ç†è§£
- è‰¯å¥½çš„æ²Ÿé€šèƒ½åŠ›
- ç¤¾åŒºè´£ä»»æ„Ÿ

**èŒè´£**:
- ä»£ç å®¡æŸ¥
- Issueç®¡ç†
- å‘å¸ƒç®¡ç†
- ç¤¾åŒºæ”¯æŒ

## è”ç³»æ–¹å¼

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- **GitHub Issues**: æŠ¥å‘Šé—®é¢˜å’ŒåŠŸèƒ½è¯·æ±‚
- **GitHub Discussions**: é¡¹ç›®è®¨è®ºå’Œé—®ç­”
- **Email**: [é¡¹ç›®é‚®ç®±]

---

æ„Ÿè°¢æ‚¨å¯¹å´©åæ˜Ÿç©¹é“é“è‡ªåŠ¨åŒ–åŠ©æ‰‹é¡¹ç›®çš„è´¡çŒ®ï¼æ‚¨çš„å‚ä¸è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚